<div class="container">
    <svg>
      <defs>
        <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
          <path d="M0,0 L0,6 L9,3 z" fill="#f00" />
        </marker>
      </defs>
    </svg>
    <div class="mapper" #mapper>
      <div class="lhs" #lhs1>
        <div *ngFor="let item of lhs; index as i">
          <div class="item" id="lhs-{{item.id}}" [ngClass]="{ 'active': activeItem == i}" (click)="changeActiveItem(i)">
            <span class="title">{{item.title}}</span>
            <span class="bullet"></span>
            <!-- <button> > </button> -->
          </div>
          <svg width="100%" height="100%" *ngIf="item.mapTo >= 0 && showArrows">
            <line [attr.x1]="getPosition('lhs-'+item.id).x" [attr.y1]="getPosition('lhs-'+item.id).y"
              [attr.x2]="getPosition('rhs-'+item.mapTo).x" [attr.y2]="getPosition('rhs-'+item.mapTo).y" 
              stroke="#da65c2" >
            </line>
          </svg>
  
          <!-- <div class="arrow" [innerHTML]="getLine(item.id)" *ngIf="showArrows">
          </div> -->
  
        </div>
      </div>
      <div class="rhs">
        <div *ngFor="let item of rhs">
          <div class="item" id="rhs-{{item.id}}" (click)="lhs[activeItem].mapTo = item.id; activeItem = -1">
            <span class="bullet"></span>
            <span class="title">{{item.title}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>